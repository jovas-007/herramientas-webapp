<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - BUAP</title>
</head>

<body>
    <header>
        <div class="logo-container">
            <img src="/assets/images/FCCBuap.png" class="logo-buap"
                alt="Logo BUAP" />
        </div>
        <h1>Registro - Benemérita Universidad Autónoma de Puebla (BUAP)</h1>
        <nav>
            <ul>
                <a href="">Inicio</a>
            </ul>
        </nav>
    </header>
    <main>
        <section class="registration-form">
            <h2>Formulario de Registro</h2>
            <!-- 
            La etiqueta <form> se utiliza para agrupar elementos de entrada relacionados y proporcionar una forma de enviar datos al servidor.
            El evento (submit) se utiliza para manejar el envío del formulario en Angular.
            -->
            <form>
                <!-- Matrícula -->
                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">account_box</mat-icon>
                    <label for="id">ID matricula:</label>
                    <input type="number" id="id" name="id" [(ngModel)]="id"
                        (keyup)="restrictInput($event)" placeholder="Escribe ID o matrícula" required>
                    <div *ngIf="errors.matricula" class="invalid-feedback">{{ errors.matricula }}</div>
                </div>

                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">comment</mat-icon>
                    <label for="name">Nombre:</label>
                    <input type="text" id="name" name="name" [(ngModel)]="name" placeholder="Escribe tu nombre" required>
        <!-- 
             La directiva *ngIf se utiliza para mostrar condicionalmente un elemento. 
            En este caso, se muestra el mensaje "campo requerido" si el campo está vacío.
        -->
    <div *ngIf="errors.name" class="invalid-feedback">{{ errors.name }}</div>

                </div>

                <!-- RFC -->
                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">list_alt</mat-icon>
                    <label for="rfc">RFC:</label>
                    <input type="text" id="rfc" name="rfc" [(ngModel)]="rfc" placeholder="Escribe tu RFC" required>
                    <div *ngIf="errors.rfc" class="invalid-feedback">{{ errors.rfc }}</div>
                </div>

                <!-- CURP -->
                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">public</mat-icon>
                    <label for="curp">CURP:</label>
                    <input type="text" id="curp" name="curp" [(ngModel)]="curp"
                    placeholder="Escribe tu CURP" required>
                <div *ngIf="errors.curp" class="invalid-feedback">{{ errors.curp }}</div>
                </div>

                <!-- Correo Electrónico (ya existente, pero lo incluyo para referencia) -->
                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">mail</mat-icon>
                    <label for="email">Correo Electrónico:</label>
                    <input type="email" id="email" name="email"
                        [(ngModel)]="email" placeholder="Escribe tu Correo" required>
                    <div *ngIf="errors.email" class="invalid-feedback">{{ errors.email }}</div>
                </div>

                <!-- Edad -->
                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">mood</mat-icon>
                    <label for="edad">Edad:</label>
                    <input type="number" id="edad" name="edad"
                        [(ngModel)]="edad" placeholder="Escribe tu edad" required>
                <div *ngIf="errors.edad" class="invalid-feedback">{{ errors.edad }}</div>
                </div>

                <!-- Teléfono -->
                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">phone_iphone</mat-icon>
                    <label for="telefono" > Teléfono:</label>
                    <input type="tel" id="telefono" name="telefono"
                        [(ngModel)]="telefono" placeholder="Escribe tu edad" mask="(000) 0000-000" required>
                    <div *ngIf="errors.telefono" class="invalid-feedback">{{ errors.telefono }}</div>
                </div>

                <!-- Ocupación -->
                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">location_city</mat-icon>
                    <label for="ocupacion">Ocupación:</label>
                    <input type="text" id="ocupacion" name="ocupacion"
                        [(ngModel)]="ocupacion" placeholder="Escribe tu ocupacion"required>
                    <div *ngIf="errors.ocupacion" class="invalid-feedback">{{ errors.ocupacion }}</div>
                </div>

                <!-- Fecha de Nacimiento con Datepicker -->
                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">calendar_today</mat-icon>
                    <label for="fechaNacimiento">Fecha de Nacimiento:</label>
                    <input matInput [matDatepicker]="picker"
                        [(ngModel)]="fechaNacimiento" (dateChange)="changeFecha($event)"  name="fechaNacimiento"
                        placeholder="Escribe tu fecha de nacimiento" required>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <div *ngIf="errors.fechaNacimiento" class="invalid-feedback">{{ errors.fechaNacimiento }}</div>
                </div>

                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">done</mat-icon>
                    <label for="password">Contraseña:</label>
                    <input type="password" id="password" name="password"
                        [(ngModel)]="password" placeholder="Escribe tu contraseña" required>
                    <div *ngIf="errors.password" class="invalid-feedback">{{ errors.password }}</div>
                </div>

                <div class="input-group">
                    <mat-icon matPrefix class="my-icon">done_all</mat-icon>
                    <label for="confirm-password">Confirmar Contraseña:</label>
                    <input type="password" id="confirm-password"
                        name="confirm-password" [(ngModel)]="confirmar_password"
                        placeholder="Reescribe tu contraseña" required>
                    <div *ngIf="errors.confirmar_password" class="invalid-feedback">{{ errors.confirmar_password }}</div>
                </div>

                <!-- 
                El botón con type="submit" se utiliza para activar el envío del formulario.
                La propiedad [disabled] se enlaza a la función isFormValid() para deshabilitar el botón si el formulario no es válido.
                -->
                <!-- Contenedor de botones -->
                <div class="button-container">
                    <!-- Botón de Cancelar -->
                    <button type="button" (click)="cancelRegistration()"
                        style="text-align: center;">Cancelar</button>

                    <!-- Botón de Registrarse -->
                    <button type="submit" (click)="validarUsuario()"
                        style="text-align: center;">Registrarse</button>
                </div>

            </form>

        </section>
    </main>
    <footer>
        <p>&copy; 2023 BUAP - Universidad Autónoma de Puebla. Todos los derechos
            reservados.</p>
    </footer>
</body>